<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Basics</title>
  <script src="assets/global_vars.js" defer></script>
  <script src="assets/langdata.js" defer></script>
  <script src="assets/functions.js" defer></script>
  <script src="assets/app.js" defer></script><!--
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">-->
  <link rel="stylesheet" href="assets/static.css" />
  <link rel="stylesheet" href="assets/defstyle.css" />
  <link rel="stylesheet" href="assets/dynamic.css" />
</head>
<body>
<section id="header">
  <span id="headerBanner"></span>
  <span id="headerContent">
    <a class="pageLink" id="menuBtn">
      <div id="sitenav" style="display:none;">
        <a class="menuLink" id="mainLink" href="index.html"></a>
        <a class="menuLink" id="bioLink" href="?p=bio"></a>
        <a class="menuLink" id="skillsLink" href="?p=skill"></a>
        <a class="menuLink" id="todoLink" href="?p=todo"></a>
        <a class="menuLink" id="contactLink" href="?p=contact"></a>
<!--        <a class="menuLink" id="qLink" href="?p=ask"></a>-->
      </div>
    </a>
    <a class="pageLink" id="menuBtnMobile">
      <div id="sitenav" style="display:none;">
        <a class="menuLink" id="mainLink" href="index.html"></a>
        <a class="menuLink" id="bioLink" href="?p=bio"></a>
        <a class="menuLink" id="skillsLink" href="?p=skill"></a>
        <a class="menuLink" id="todoLink" href="?p=todo"></a>
        <a class="menuLink" id="contactLink" href="?p=contact"></a>
<!--        <a class="menuLink" id="qLink" href="?p=ask"></a>-->
      </div>
    </a>
    &nbsp;
    <a class="pageLink" id="accrBtn" href="?p=accr"></a>
    <a class="pageLink" id="accrBtnMobile" href="?p=accr"></a>
    &nbsp;
    <a class="pageLink" id="langLink"></a>
    <a class="pageLink" id="langLinkMobile"></a>
  </span>
</section>
<section id="main">
  <section id="sideLinks">
    <span id="sidepanel"></span><br />
    <span id="timeSpan" style="font-size: 80%;"></span>
  </section>
  <section id="viewport">
<form id="questionForm">
    <input type="text" id="questionInput" placeholder="Ask a question" required />
    <button type="submit">Submit</button>
</form>
<ul id="questionsList"></ul>

<script>
    const apiBase = 'https://your-vercel-project.vercel.app/api/post-question'; // Replace with your Vercel API URL

    // Submit Question
    document.getElementById('questionForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        const question = document.getElementById('questionInput').value;

        const response = await fetch(apiBase, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ question }),
        });

        if (response.ok) {
            alert('Question added!');
            fetchQuestions(); // Refresh the questions list
        } else {
            console.error('Error adding question:', await response.json());
        }
    });

    // Fetch and Display Questions
    async function fetchQuestions() {
        const response = await fetch(apiBase);
        const questions = await response.json();

        const list = document.getElementById('questionsList');
        list.innerHTML = '';
        questions.forEach((q) => {
            const li = document.createElement('li');
            li.textContent = `${q.question} (Asked on: ${new Date(q.date).toLocaleString()})`;
            list.appendChild(li);
        });
    }

    // Load Questions on Page Load
    fetchQuestions();
</script>
  </section>

</section>
<section id="bottomLinks">
  <span id="timeSpanMobile" style="font-size: 85%;"></span><br />
  <span id="bottompanel" ></span>
</section>

</body>
</html>
